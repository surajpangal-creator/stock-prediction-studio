{% extends "base.html" %}

{% block title %}Stock Prediction Studio{% endblock %}

{% block content %}
<div class="row">
    <div class="col-xl-10 mx-auto">
        <div class="card shadow-sm">
            <div class="card-header">
                <h2 class="h5 mt-1 mb-0 text-uppercase tracking-wide text-muted">Build a Forecast</h2>
            </div>
            <div class="card-body">
                <form method="post" class="row g-3">
                    <div class="col-md-4">
                        <label for="ticker" class="form-label">Ticker Symbol</label>
                        <input type="text" class="form-control" id="ticker" name="ticker" placeholder="AAPL" required />
                    </div>
                    <div class="col-md-4">
                        <label for="model" class="form-label">Model</label>
                        <select class="form-select" id="model" name="model">
                            <option value="prophet" selected>Prophet (Facebook)</option>
                            <option value="lstm">LSTM (Deep Learning)</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="target" class="form-label">Target</label>
                        <select class="form-select" id="target" name="target">
                            <option value="close" selected>Price (Close)</option>
                            <option value="volatility">Volatility (Rolling 21-day)</option>
                        </select>
                    </div>

                    <div class="col-md-6">
                        <label for="start_date" class="form-label">Start Date</label>
                        <input
                            type="date"
                            class="form-control"
                            id="start_date"
                            name="start_date"
                            value="{{ default_start }}"
                            min="{{ min_start }}"
                            max="{{ default_end }}"
                            required
                        />
                    </div>
                    <div class="col-md-6">
                        <label for="end_date" class="form-label">End Date</label>
                        <input
                            type="date"
                            class="form-control"
                            id="end_date"
                            name="end_date"
                            value="{{ default_end }}"
                            min="{{ default_start }}"
                            max="{{ default_end }}"
                            required
                        />
                    </div>

                    <div class="col-md-4">
                        <label for="horizon" class="form-label">Forecast Horizon (days)</label>
                        <input type="number" class="form-control" id="horizon" name="horizon" value="30" min="5" max="365" />
                    </div>
                    <div class="col-md-4">
                        <label for="interval" class="form-label">Sampling Interval</label>
                        <select class="form-select" id="interval" name="interval">
                            <option value="1d" selected>Daily</option>
                            <option value="1wk">Weekly</option>
                            <option value="1mo">Monthly</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="seasonality" class="form-label">Seasonality (Prophet)</label>
                        <select class="form-select" id="seasonality" name="seasonality">
                            <option value="auto" selected>Automatic</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                        <div class="form-text">
                            Ignored by LSTM models.
                        </div>
                    </div>

                    <div class="col-12 text-end">
                        <button type="submit" class="btn btn-primary px-4">Generate Forecast</button>
                    </div>
                </form>
            </div>
        </div>

        <section class="mt-4">
            <h3 class="h6 text-uppercase tracking-wide text-muted mb-3">What this app does</h3>
            <ul class="list-group list-group-flush rounded-3 overflow-hidden">
                <li class="list-group-item d-flex align-items-start gap-3">
                    <span class="badge bg-primary flex-shrink-0">1</span>
                    Fetches historical pricing data from Yahoo Finance via the <code>yfinance</code> API.
                </li>
                <li class="list-group-item d-flex align-items-start gap-3">
                    <span class="badge bg-primary flex-shrink-0">2</span>
                    Lets you choose between Prophet (probabilistic forecasting) and LSTM (neural network) models.
                </li>
                <li class="list-group-item d-flex align-items-start gap-3">
                    <span class="badge bg-primary flex-shrink-0">3</span>
                    Generates forecast tables and performance metrics for both price and volatility targets.
                </li>
            </ul>
        </section>
    </div>
</div>
{% endblock %}

